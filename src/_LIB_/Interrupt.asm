; =========================================================================================================================================================
; Sonic's Fun And Easy Adventure
; By Ralakimus/Novedicus 2017
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; Interrupt functions
; =========================================================================================================================================================
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; Wait for the vertical interrupt to run and finish
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; PARAMETERS:
;	Nothing
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
; RETURNS:
;	Nothing
; ---------------------------------------------------------------------------------------------------------------------------------------------------------
VSync:
		st	r_VINT_Flag.w			; Set V-INT flag

VSync_Routine:
		intsOn					; Enable interrupts
		lagOff					; Turn off the lag-o-meter

.Wait:
		tst.b	r_VINT_Flag.w			; Has the V-INT run yet?
		bne.s	.Wait				; If not, wait some more
		rts
; =========================================================================================================================================================